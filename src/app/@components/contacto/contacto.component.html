<div class="contact-container">
  <!-- Top Contact Information & Social Media -->
  <div class="contact-header">
    <div class="contact-info">
      <span>Colegiales, Buenos Aires, Argentina</span>
      <span class="separator">|</span>
      <span>Info.maarquitectura&#64;gmail.com</span>
    </div>

    <div class="social-media">
      <a href="#" class="social-icon">
        <mat-icon>facebook</mat-icon>
      </a>
      <a href="#" class="social-icon">
        <mat-icon>camera_alt</mat-icon>
      </a>
      <a href="#" class="social-icon">
        <mat-icon>email</mat-icon>
      </a>
    </div>
  </div>

  <!-- Contact Form -->
  <div class="contact-form-container">
    <form
      [formGroup]="contactForm"
      (ngSubmit)="onSubmit()"
      class="contact-form"
    >
      <!-- Left Column - Input Fields -->
      <div class="form-left">
        <div class="form-field">
          <input
            type="text"
            formControlName="nombre"
            placeholder="Nombre*"
            [class.error]="
              contactForm.get('nombre')?.invalid &&
              contactForm.get('nombre')?.touched
            "
          />
          <div class="field-line"></div>
          <div class="error-message" *ngIf="getFieldError('nombre')">
            {{ getFieldError("nombre") }}
          </div>
        </div>

        <div class="form-field">
          <input
            type="email"
            formControlName="email"
            placeholder="Correo electrónico*"
            [class.error]="
              contactForm.get('email')?.invalid &&
              contactForm.get('email')?.touched
            "
          />
          <div class="field-line"></div>
          <div class="error-message" *ngIf="getFieldError('email')">
            {{ getFieldError("email") }}
          </div>
        </div>

        <div class="form-field">
          <input type="tel" formControlName="telefono" placeholder="Teléfono" />
          <div class="field-line"></div>
        </div>
      </div>

      <!-- Right Column - Message & Controls -->
      <div class="form-right">
        <div class="form-field message-field">
          <textarea
            formControlName="mensaje"
            placeholder="Mensaje"
            [class.error]="
              contactForm.get('mensaje')?.invalid &&
              contactForm.get('mensaje')?.touched
            "
          ></textarea>
          <div class="error-message" *ngIf="getFieldError('mensaje')">
            {{ getFieldError("mensaje") }}
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-button"
          [disabled]="isSubmitting || contactForm.invalid"
        >
          <span *ngIf="!isSubmitting">ENVIAR</span>
          <span *ngIf="isSubmitting">Enviando...</span>
        </button>

        <!-- reCAPTCHA v3 invisible -->
        <div class="recaptcha-info">
          <small
            >Este sitio está protegido por reCAPTCHA y se aplican la
            <a href="https://policies.google.com/privacy" target="_blank"
              >Política de Privacidad</a
            >
            y
            <a href="https://policies.google.com/terms" target="_blank"
              >Términos de Servicio</a
            >
            de Google.
          </small>
        </div>
      </div>
    </form>
  </div>

  <!-- Success/Error Messages -->
  <div class="message-container" *ngIf="submitSuccess || submitError">
    <div class="success-message" *ngIf="submitSuccess">
      ¡Mensaje enviado correctamente! Nos pondremos en contacto contigo pronto.
    </div>
    <div class="error-message" *ngIf="submitError">
      Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.
    </div>
  </div>
</div>
