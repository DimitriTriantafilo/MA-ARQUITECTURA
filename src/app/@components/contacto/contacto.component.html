<div class="contact-container">
  <!-- Título de la página -->
  <h1 class="contact-title">
    {{ "contact" | translate }}
  </h1>

  <!-- Top Contact Information & Social Media -->
  <div class="contact-header">
    <div class="contact-info">
      <span>{{ "contactAddress" | translate }}</span>
      <span class="separator">|</span>
      <span>{{ "contactEmail" | translate }}</span>
    </div>
  </div>

  <!-- Contact Form -->
  <div class="contact-form-container">
    <form
      [formGroup]="contactForm"
      (ngSubmit)="onSubmit()"
      class="contact-form"
    >
      <!-- Left Column - Input Fields -->
      <div class="form-left">
        <div class="form-field">
          <input
            type="text"
            formControlName="nombre"
            [placeholder]="'name' | translate"
            [class.error]="
              contactForm.get('nombre')?.invalid &&
              contactForm.get('nombre')?.touched
            "
          />
          <div class="field-line"></div>
          <div class="error-message" *ngIf="getFieldError('nombre')">
            {{ getFieldError("nombre") }}
          </div>
        </div>

        <div class="form-field">
          <input
            type="email"
            formControlName="email"
            [placeholder]="'email' | translate"
            [class.error]="
              contactForm.get('email')?.invalid &&
              contactForm.get('email')?.touched
            "
          />
          <div class="field-line"></div>
          <div class="error-message" *ngIf="getFieldError('email')">
            {{ getFieldError("email") }}
          </div>
        </div>

        <div class="form-field">
          <input
            type="tel"
            formControlName="telefono"
            [placeholder]="'phone' | translate"
          />
          <div class="field-line"></div>
        </div>
      </div>

      <!-- Right Column - Message & Controls -->
      <div class="form-right">
        <div class="form-field message-field">
          <textarea
            formControlName="mensaje"
            [placeholder]="'message' | translate"
            [class.error]="
              contactForm.get('mensaje')?.invalid &&
              contactForm.get('mensaje')?.touched
            "
          ></textarea>
          <div class="error-message" *ngIf="getFieldError('mensaje')">
            {{ getFieldError("mensaje") }}
          </div>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-button"
          [disabled]="isSubmitting || contactForm.invalid"
        >
          <span *ngIf="!isSubmitting">{{ "send" | translate }}</span>
          <span *ngIf="isSubmitting">{{ "sending" | translate }}</span>
        </button>

        <!-- reCAPTCHA v3 invisible -->
        <div class="recaptcha-info">
          <small
            >{{ "recaptchaInfo" | translate }}
            <a href="https://policies.google.com/privacy" target="_blank">{{
              "privacyPolicy" | translate
            }}</a>
            {{ "and" | translate }}
            <a href="https://policies.google.com/terms" target="_blank">{{
              "termsOfService" | translate
            }}</a>
            {{ "recaptchaInfoEnd" | translate }}
          </small>
        </div>
      </div>
    </form>
  </div>

  <!-- Success/Error Messages -->
  <div class="message-container" *ngIf="submitSuccess || submitError">
    <div class="success-message" *ngIf="submitSuccess">
      {{ "messageSent" | translate }}
    </div>
    <div class="error-message" *ngIf="submitError">
      {{ "messageError" | translate }}
    </div>
  </div>
</div>
